<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reanalysis</title>
<link rel="stylesheet" href="docs/style.css" />
</head>
<body>

<div class="tabs">
  <a class="tab-button" href="obs.html">Observations</a>
  <a class="tab-button" href="reanalysis.html">Reanalysis</a>
  <a class="tab-button" href="model.html">Model</a>
</div>

<h1>Reanalysis <img src="docs/esplab_logo.png" alt="ESPLab logo" style="height:30px; vertical-align:middle;"></h1>

<div>
<label for="dataset">Dataset:</label>
<select id="dataset">
  <option value="">-- Select Dataset --</option>
  <option value="reanalysis">reanalysis</option>
</select>

<label for="tempres">Temporal Resolution:</label>
<select id="tempres" disabled>
  <option value="">-- Select Temporal Resolution --</option>
</select>

<label for="variable">Variable:</label>
<select id="variable" disabled>
  <option value="">-- Select Variable --</option>
</select>
</div>

<div id="datasetList"></div>

<script>
const catalog = {"reanalysis": {"era5": {"4xdaily": [{"name": "reanalysis", "long_name": "No long name", "description": "Mean sea level pressure", "units": "Pa", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "U component of wind", "units": "m s**-1", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "10 metre U wind component", "units": "m s**-1", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "V component of wind", "units": "m s**-1", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "10 metre V wind component", "units": "m s**-1", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Geopotential", "units": "m**2 s**-2", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}], "daily": [{"name": "reanalysis", "long_name": "No long name", "description": "e", "units": "unknown", "date_range": "1979-01-01 to 2023-12-17", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "ttr", "units": "unknown", "date_range": "1940-01-01 to 2022-12-31", "files": 83, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "w", "units": "unknown", "date_range": "1979-01-01 to 2023-12-31", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "tp", "units": "unknown", "date_range": "1940-01-01 to 2022-12-31", "files": 83, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "sp", "units": "unknown", "date_range": "1979-01-01 to 2023-12-18", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "q", "units": "unknown", "date_range": "1979-01-01 to 2023-10-28", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "sst", "units": "unknown", "date_range": "1940-01-01 to 2022-12-31", "files": 83, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "swvl1", "units": "unknown", "date_range": "1940-01-01 to 2023-08-21", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "t", "units": "unknown", "date_range": "1979-01-01 to 2023-10-26", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "t2m", "units": "unknown", "date_range": "1940-01-01 to 2023-07-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "tcwv", "units": "unknown", "date_range": "1979-01-01 to 2023-12-23", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "u", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "u10", "units": "unknown", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "u", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "u", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "u", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "v", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "v10", "units": "unknown", "date_range": "1940-01-01 to 2023-06-23", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "v", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "v", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "v", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "vimd", "units": "unknown", "date_range": "1979-01-01 to 2023-12-31", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "p71.162", "units": "unknown", "date_range": "1979-01-01 to 2023-12-31", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "p72.162", "units": "unknown", "date_range": "1979-01-01 to 2023-12-31", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "z", "units": "unknown", "date_range": "1979-01-01 to 2022-12-31", "files": 44, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "z", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "z", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "z", "units": "unknown", "date_range": "1940-01-01 to 2023-12-31", "files": 84, "data_location": "/data/esplab/shared/reanalysis/era5"}], "hourly": [{"name": "reanalysis", "long_name": "No long name", "description": "Evaporation", "units": "m of water equivalent", "date_range": "1979-01-01 to 2023-12-17", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Top net long-wave (thermal) radiation", "units": "J m**-2", "date_range": "1940-01-01 to 2023-07-23", "files": 1003, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Vertical velocity", "units": "Pa s**-1", "date_range": "1979-01-01 to 2023-12-31", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Total precipitation", "units": "m", "date_range": "1940-01-01 to 2023-07-19", "files": 1003, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Surface pressure", "units": "Pa", "date_range": "1940-01-01 to 2023-12-18", "files": 541, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Specific humidity", "units": "kg kg**-1", "date_range": "1940-01-01 to 2023-10-28", "files": 1006, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Sea surface temperature", "units": "K", "date_range": "1940-01-01 to 2023-12-31", "files": 1008, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Volumetric soil water layer 1", "units": "m**3 m**-3", "date_range": "1940-01-01 to 2023-08-21", "files": 1004, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Temperature", "units": "K", "date_range": "1940-01-01 to 2023-10-26", "files": 1006, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "2 metre temperature", "units": "K", "date_range": "1940-01-01 to 2023-07-23", "files": 1003, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Total column vertically-integrated water vapour", "units": "kg m**-2", "date_range": "1979-01-01 to 2023-12-23", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "U component of wind", "units": "m s**-1", "date_range": "1940-01-01 to 2023-12-31", "files": 1008, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "V component of wind", "units": "m s**-1", "date_range": "1940-01-01 to 2023-12-31", "files": 1008, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Vertically integrated moisture divergence", "units": "kg m**-2", "date_range": "1979-01-01 to 2023-12-31", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Vertical integral of eastward water vapour flux", "units": "kg m**-1 s**-1", "date_range": "1979-01-01 to 2023-12-31", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Vertical integral of northward water vapour flux", "units": "kg m**-1 s**-1", "date_range": "1979-01-01 to 2023-12-31", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5"}, {"name": "reanalysis", "long_name": "No long name", "description": "Geopotential", "units": "m**2 s**-2", "date_range": "1940-01-01 to 2023-12-31", "files": 1008, "data_location": "/data/esplab/shared/reanalysis/era5"}]}, "era5-land": {"daily": [{"name": "reanalysis", "long_name": "No long name", "description": "tp", "units": "unknown", "date_range": "1979-01-01 to 2023-12-07", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5-land"}, {"name": "reanalysis", "long_name": "No long name", "description": "t2m", "units": "unknown", "date_range": "1979-01-01 to 2023-12-20", "files": 45, "data_location": "/data/esplab/shared/reanalysis/era5-land"}], "hourly": [{"name": "reanalysis", "long_name": "No long name", "description": "Total precipitation", "units": "m", "date_range": "1979-01-01 to 2023-12-07", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5-land"}, {"name": "reanalysis", "long_name": "No long name", "description": "2 metre temperature", "units": "K", "date_range": "1979-01-01 to 2023-12-20", "files": 540, "data_location": "/data/esplab/shared/reanalysis/era5-land"}]}, "merra-2": {"daily": [{"name": "reanalysis", "long_name": "No long name", "description": "vertical_pressure_velocity", "units": "Pa s-1", "date_range": "1980-01-01 to 2024-05-01", "files": 1, "data_location": "/data/esplab/shared/reanalysis/merra-2"}, {"name": "reanalysis", "long_name": "No long name", "description": "edge_heights", "units": "m", "date_range": "1980-01-01 to 2024-05-01", "files": 1, "data_location": "/data/esplab/shared/reanalysis/merra-2"}]}}};

function clearSelect(sel) {
    sel.innerHTML = '<option value="">-- Select --</option>';
    sel.disabled = true;
}

function populateSelect(sel, options) {
    clearSelect(sel);
    options.forEach(opt => {
        let option = document.createElement("option");
        option.value = opt;
        option.textContent = opt;
        sel.appendChild(option);
    });
    sel.disabled = false;
}

document.getElementById("dataset").addEventListener("change", () => {
    const dataset = document.getElementById("dataset").value;
    const tempresSel = document.getElementById("tempres");
    const variableSel = document.getElementById("variable");
    document.getElementById("datasetList").innerHTML = "";
    clearSelect(variableSel);
    if (!dataset) {
        clearSelect(tempresSel);
        return;
    }
    const tempres = Object.keys(catalog[dataset] || {});
    populateSelect(tempresSel, tempres);
});

document.getElementById("tempres").addEventListener("change", () => {
    const dataset = document.getElementById("dataset").value;
    const tempres = document.getElementById("tempres").value;
    const variableSel = document.getElementById("variable");
    document.getElementById("datasetList").innerHTML = "";
    if (!tempres) {
        clearSelect(variableSel);
        return;
    }
    const vars = Object.keys(catalog[dataset][tempres] || {});
    populateSelect(variableSel, vars);
});

document.getElementById("variable").addEventListener("change", () => {
    const dataset = document.getElementById("dataset").value;
    const tempres = document.getElementById("tempres").value;
    const variable = document.getElementById("variable").value;
    const container = document.getElementById("datasetList");
    container.innerHTML = "";
    if (!dataset || !tempres || !variable) {
        return;
    }
    const entries = catalog[dataset][tempres][variable] || [];
    if (entries.length === 0) {
        container.textContent = "No datasets found for this selection.";
        return;
    }
    entries.forEach(entry => {
        const div = document.createElement("div");
        div.className = "dataset-entry";
        div.innerHTML = `
            <div class="dataset-name">${entry.name}</div>
            <div><strong>Description:</strong> ${entry.long_name}</div>
            <div><strong>Units:</strong> ${entry.units}</div>
            <div><strong>Date Range:</strong> ${entry.date_range}</div>
            <div><strong>Files:</strong> ${entry.files}</div>
            <div><strong>Data Location:</strong> ${entry.data_location}</div>
        `;
        container.appendChild(div);
    });
});
</script>

</body>
</html>
