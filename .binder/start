#!/bin/bash
set -e

echo "Running .binder/start"
pwd
ls -l

# start Jupyter in background to satisfy Binder
jupyter lab --ip=0.0.0.0 --port=8888 --no-browser --NotebookApp.token='' --NotebookApp.password='' &

# allow Jupyter to fully initialize
sleep 10

# launch your Panel app
echo "Starting panel serve..."
panel serve data_catalog_app.py --address=0.0.0.0 --port=5006 --allow-websocket-origin="*"

